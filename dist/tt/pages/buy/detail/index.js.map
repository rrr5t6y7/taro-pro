{"version":3,"file":"pages/buy/detail/index.js","sources":["webpack:///./src/pages/buy/detail/index.jsx","webpack:///./src/pages/buy/detail/index.jsx?4078"],"sourcesContent":["/*\n * @Author: JJ\n * @Title: 完整购物流程页面\n * @Description: 这个页面展示hooks下的生命周期，以及整个购物流程\n * @Date: 2021-10-26 10:52:27\n * @Last Modified by: JJ\n * @Last Modified time: 2021-10-28 11:43:40\n */\nimport React, { useEffect, useState, useReducer } from \"react\";\nimport { observer, MobXProviderContext } from \"mobx-react\";\nimport { View, Image, Button } from \"@tarojs/components\";\nimport { AtButton } from \"taro-ui\";\nimport Taro from \"@tarojs/taro\"; // Taro 专有 Hooks\nimport { POST } from \"../../../utils/request\";\nimport api from \"../service\";\n\nconst Detail = observer((props) => {\n  const { stores } = React.useContext(MobXProviderContext);\n  const [data, updateData] = useState({});\n\n  //\n  useEffect(() => {\n    const params = {\n      productCode: \"P5130003920948S\",\n    };\n    // function ()\n    POST({\n      url: api.detail,\n      params: params,\n      closeLoading: true,\n      success: (res) => {\n        console.log(res);\n        updateData(res.data);\n      },\n      fail: function () {},\n    });\n  }, []);\n\n  const gotoBuy = () => {\n    Taro.requestPayment({\n      timeStamp: new Date(),\n      nonceStr: \"xxx\",\n      package: \"xxx\",\n      signType: \"MD5\",\n      paySign: \"xxx\",\n      complete: function (res) {},\n      success: function (res) {\n        console.log(res, \"success\");\n      },\n      fail: function (res) {\n        console.log(res, \"fail\");\n      },\n    });\n  };\n\n  return (\n    <View className=\"App\">\n      <Image src={data.advImageUrl} />\n      <View>{data.name}</View>\n      <View>{`¥${data.salePrice}`}</View>\n      <Button></Button>\n      <AtButton type=\"primary\" onClick={gotoBuy}>\n        买！\n      </AtButton>\n    </View>\n  );\n});\n\nexport default Detail;\n","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"../../../../node_modules/babel-loader/lib/index.js!./index.jsx\"\nvar config = {};\n\n\nvar inst = Page(createPageConfig(component, 'pages/buy/detail/index', {root:{cn:[]}}, config || {}))\n\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;;;AAEA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AARA;AALA;AACA;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAUA;AACA;AACA;AAZA;AADA;AACA;AAgBA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AALA;AAxCA;AAoDA;;;;;;;;;;;;;ACpEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;A","sourceRoot":""}